# 🎮 中学生でもわかる！環境変数の設定方法

## 📝 これだけ覚えて！

**やること**: たった2行を書き換えるだけ！

```
GOOGLE_CALENDAR_API_KEY=ここにAPIキーを貼り付け
GOOGLE_CALENDAR_ID=ここにメールアドレスを書く
```

---

## 🚀 超簡単！3ステップで完了

### ステップ1️⃣: ファイルを開く

**左側のファイル一覧**から探してクリック：

```
📁 webapp
   📄 .dev.vars  ← これをクリック！
```

見つからない場合は、`Ctrl+P`（Macは`Cmd+P`）を押して、
`.dev.vars`と入力してEnter！

---

### ステップ2️⃣: 2行だけ書き換える

ファイルを開いたら、下の方にこんな行があります：

```
GOOGLE_CALENDAR_API_KEY=your-api-key-here
GOOGLE_CALENDAR_ID=your-email@gmail.com
```

これを↓こんな感じに書き換えます：

```
GOOGLE_CALENDAR_API_KEY=AIzaSyDxxxxxxxxxxxxxx
GOOGLE_CALENDAR_ID=taro@gmail.com
```

**書き換える場所**：
- `your-api-key-here` → 実際のAPIキー（Google Cloudで取得）
- `your-email@gmail.com` → 自分のGmailアドレス

**注意**：
- ❌ スペースを入れない
- ❌ カギカッコ("")は不要
- ✅ そのまま貼り付けるだけ！

---

### ステップ3️⃣: 保存して再起動

1. **保存する**
   - `Ctrl+S`（Macは`Cmd+S`）を押す
   - または「File」→「Save」

2. **アプリを再起動する**
   
   右側の「ターミナル」（黒い画面）に、このコマンドをコピペ：
   
   ```bash
   pm2 restart webapp
   ```
   
   コピーしたら、ターミナルで右クリック→「貼り付け」→Enterキー！

3. **完了！**
   
   これだけ！おつかれさまでした🎉

---

## 🔑 APIキーってどうやって取るの？

Google Cloud Consoleという場所で取得します。

### 超簡単な流れ

1. **Google Cloud Console を開く**
   - https://console.cloud.google.com/
   - Googleアカウントでログイン

2. **プロジェクトを作る**
   - 左上の「プロジェクト選択」をクリック
   - 「新しいプロジェクト」をクリック
   - 名前は何でもOK（例：`my-task-app`）
   - 「作成」をクリック

3. **Google Calendar APIを有効にする**
   - 左側のメニューから「APIとサービス」→「ライブラリ」
   - 検索バーに「Google Calendar API」と入力
   - 「Google Calendar API」をクリック
   - 青い「有効にする」ボタンをクリック

4. **APIキーを作る**
   - 左側のメニューから「APIとサービス」→「認証情報」
   - 上の方にある「認証情報を作成」をクリック
   - 「APIキー」を選択
   - APIキーが表示される！これをコピー📋

5. **完了！**
   - コピーしたAPIキーを`.dev.vars`ファイルに貼り付け

---

## 🎯 カレンダーIDって何？

**ほとんどの場合、自分のGmailアドレスでOK！**

例：
- `taro@gmail.com` ← これがカレンダーID

確認方法：
1. Googleカレンダーを開く（https://calendar.google.com/）
2. 左側の「マイカレンダー」で、使いたいカレンダーの横にある「・・・」をクリック
3. 「設定と共有」をクリック
4. 下の方にスクロール
5. 「カレンダーの統合」というところに「カレンダーID」が書いてある

---

## ✅ ちゃんと動いてるか確認する方法

ターミナル（黒い画面）に、このコマンドをコピペ：

```bash
curl http://localhost:3000/api/calendar/today
```

**成功したら**：
```json
[
  {
    "start": "14:00",
    "end": "15:30",
    "title": "部活"
  }
]
```
↑こんな感じで、今日の予定が表示される！

**失敗したら**：
```json
{
  "error": "Google Calendar API not configured"
}
```
↑これが出たら、APIキーが間違ってるか、まだ設定されてない。

---

## 🤔 よくある質問

### Q: ターミナルって何？どこ？
A: 画面の下の方にある「黒い画面」です。コマンドを打つところ。

### Q: コマンドってどうやって打つの？
A: コピーして、ターミナルで右クリック→「貼り付け」→Enterキー！

### Q: APIキーが間違ってたらどうなる？
A: エラーが出るだけ。何度でもやり直せます。壊れません！

### Q: これって安全なの？
A: 安全です！このファイルは自分のパソコンにしか保存されません。
   インターネットには公開されません。

### Q: お金かかる？
A: Google Calendar APIは無料で使えます！（制限内なら）

### Q: 失敗したらどうしよう...
A: 大丈夫！何度でもやり直せます。ファイルを間違えて消しても、作り直せます。

---

## 🎮 まとめ

1. `.dev.vars`ファイルを開く
2. 2行だけ書き換える（APIキーとメールアドレス）
3. 保存する（Ctrl+S）
4. ターミナルで`pm2 restart webapp`を実行
5. 完了！🎉

**所要時間**: 5分

**難易度**: ⭐☆☆☆☆（超簡単）

---

## 🆘 困ったときは

エラーメッセージをそのままコピーして、質問してください！
一緒に解決しましょう😊

---

最終更新: 2026-02-03
